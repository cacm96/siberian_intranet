<div class="container">

		<div class="row">
		  <div class="col-sm-12">
			<h2 class="text-center">Editar Promoción</h2>
		  </div>
		</div>
	  
		<div class="row">
		  <div class="col-sm-12">
				<button mat-raised-button color="primary" (click)="goBack()" matTooltip="Volver" matTooltipPosition="above"><mat-icon>arrow_back</mat-icon></button>
		  </div>  
		</div>
	  
		<hr>
	  
		<div *ngIf="promotion">
	  
		  <div class="row">
			<div class="col-sm-12">
			  <mat-card>
				<mat-card-header class="titulo border-top-danger">
				  <mat-card-title>
					{{ promotion.name }}
				  </mat-card-title>
				</mat-card-header>
				<mat-card-content>
				  <div class="row">
					<div class="col-sm-8 offset-2">
					  <form #updateForm="ngForm" (ngSubmit)="update(updateForm)">
						<br>

						<mat-form-field>
								<input matInput id="inputName" name="name" placeholder="Nombre" [(ngModel)]="promotion.name" required>
							  </mat-form-field>
			
							  <mat-form-field>
								<textarea matInput name="description" placeholder="Descripción" [(ngModel)]="promotion.description" required></textarea>
							  </mat-form-field> 

							  <mat-form-field>
									<mat-select name="type" [(ngModel)]="promotion.type" placeholder="Seleccione un Tipo" required>
									  <mat-option *ngFor="let type of types" [value]="type.id">{{ type.name }}</mat-option>
									</mat-select>
								  </mat-form-field>

						<mat-form-field>
						  <mat-select name="SubcategoryId" [(ngModel)]="promotion.subcategory.id" placeholder="Seleccione una Subcategoría" >
							<mat-option *ngFor="let subcategory of subcategories" [value]="subcategory.id">{{ subcategory.name }}</mat-option>
						  </mat-select>
						</mat-form-field>
	  
						    <mat-form-field>
								<mat-select name="EquipinfraId" [(ngModel)]="promotion.equipinfras.id" placeholder="Seleccione una Equipo- Infraestructura" >
								  <mat-option *ngFor="let equipinfras of equipinfras" [value]="equipinfras.id">{{ equipinfras.name }}</mat-option>
								</mat-select>
							  </mat-form-field>

							  
							<mat-form-field>
									<input matInput name="percentDiscount" placeholder="Porcentaje de Descuento" [(ngModel)]="promotion.percentDiscount">
								</mat-form-field>
								
								<mat-form-field class="example-full-width">
										<input name="dateStart" [(ngModel)]="promotion.dateStart" matInput [matDatepicker]="picker" placeholder="Elija una fecha de Inicio"  [min] = "minDate" (dateChange)="addEvent('change', $event)" required>
										<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
										<mat-datepicker touchUi #picker></mat-datepicker>
									</mat-form-field>


									<mat-form-field class="example-full-width">
											<input name="dateEnd" [(ngModel)]="promotion.dateEnd" matInput [matDatepicker]="picker2" placeholder="Elija una fecha de Finalicación"  [min] = "minDate" (dateChange)="addEvent('change', $event)" required>
											<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
											<mat-datepicker touchUi #picker></mat-datepicker>
										</mat-form-field>
	  
					  <br>
	  
					  <div class="row">
						<div class="col-sm-12">
						  <button mat-raised-button color="primary" type="submit">Guardar</button>
						</div>
					  </div>
					</form>
				  </div>
				</div>
			  </mat-card-content>
			</mat-card>
		  </div>
		</div>
	  
		<div *ngIf="!promotion && !failedConect">
		  <div class="row">
			<div class="col-sm-12 spinner">
			  <mat-spinner></mat-spinner>
			</div>
		  </div>
		</div>
	  
		<div *ngIf="failedConect">
		  <h6 class="text-center">{{failedConect}}</h6>
		</div>
	  
	  </div>

	  </div>